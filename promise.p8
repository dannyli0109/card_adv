pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
function _init()
	a = ''
	callbacks = {}
	
	callback(
	function(o)
		if param > 1 then
			o.done = true
		end
		param+=0.1
	end,
	function()
		
	end
	)
end


function _update60()
	for i=1,#callbacks do
		callbacks[i].update()
	end
	
end

function _draw()
	cls()
	print(time())
	print(a)
end


function callback(func,cb)
	o = {}
	
	o.init = function(param)
		
	end

	o.update = function()
			func(o)
			if(o.done) then
				o.cb()
				del(callbacks, o)
			end
	end
	
	
	add(callbacks,o)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
